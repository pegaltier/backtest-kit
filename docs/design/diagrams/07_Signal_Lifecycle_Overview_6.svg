<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1040.9765625 1744.171875" style="max-width: 1040.98px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Active_GetPrice_0" d="M514.152,62L514.152,66.167C514.152,70.333,514.152,78.667,514.152,86.333C514.152,94,514.152,101,514.152,104.5L514.152,108"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GetPrice_CheckTime_0" d="M514.152,166L514.152,170.167C514.152,174.333,514.152,182.667,514.223,190.417C514.293,198.167,514.433,205.334,514.504,208.917L514.574,212.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckTime_CloseTime_0" d="M407.017,434.865L360.069,458.887C313.121,482.91,219.224,530.955,172.276,574.197C125.328,617.44,125.328,655.88,125.328,694.32C125.328,732.76,125.328,771.201,125.328,808.715C125.328,846.229,125.328,882.818,125.328,921.406C125.328,959.995,125.328,1000.583,125.328,1030.378C125.328,1060.172,125.328,1079.172,125.328,1088.672L125.328,1098.172"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckTime_CheckTP_0" d="M581.374,475.778L593.271,492.982C605.167,510.186,628.961,544.593,640.932,567.38C652.903,590.167,653.052,601.334,653.126,606.917L653.201,612.5"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckTP_CloseTP_0" d="M599.642,719.529L566.79,734.547C533.938,749.566,468.235,779.603,435.383,812.916C402.531,846.229,402.531,882.818,402.531,921.406C402.531,959.995,402.531,1000.583,402.531,1028.378C402.531,1056.172,402.531,1071.172,402.531,1078.672L402.531,1086.172"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckTP_CheckSL_0" d="M694.907,731.488L709.715,744.513C724.523,757.539,754.138,783.59,769.021,802.199C783.903,820.807,784.052,831.974,784.126,837.558L784.201,843.141"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckSL_CloseSL_0" d="M748.255,956.673L734.301,970.756C720.347,984.839,692.439,1013.006,678.485,1034.589C664.531,1056.172,664.531,1071.172,664.531,1078.672L664.531,1086.172"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckSL_ContinueActive_0" d="M820.253,956.673L834.04,970.756C847.827,984.839,875.402,1013.006,889.189,1036.589C902.977,1060.172,902.977,1079.172,902.977,1088.672L902.977,1098.172"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CloseTime_CalculatePnL_0" d="M125.328,1156.172L125.328,1162.339C125.328,1168.505,125.328,1180.839,155.802,1192.722C186.275,1204.605,247.223,1216.038,277.696,1221.754L308.17,1227.471"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CloseTP_CalculatePnL_0" d="M402.531,1168.172L402.531,1172.339C402.531,1176.505,402.531,1184.839,402.531,1192.505C402.531,1200.172,402.531,1207.172,402.531,1210.672L402.531,1214.172"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CloseSL_CalculatePnL_0" d="M664.531,1168.172L664.531,1172.339C664.531,1176.505,664.531,1184.839,636.59,1194.551C608.649,1204.263,552.767,1215.354,524.826,1220.9L496.884,1226.445"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CalculatePnL_UpdateRisk_0" d="M402.531,1272.172L402.531,1276.339C402.531,1280.505,402.531,1288.839,402.531,1298.505C402.531,1308.172,402.531,1319.172,402.531,1324.672L402.531,1330.172"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_UpdateRisk_Persist_0" d="M402.531,1388.172L402.531,1394.339C402.531,1400.505,402.531,1412.839,402.531,1422.505C402.531,1432.172,402.531,1439.172,402.531,1442.672L402.531,1446.172"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Persist_Callback_0" d="M402.531,1504.172L402.531,1508.339C402.531,1512.505,402.531,1520.839,402.531,1528.505C402.531,1536.172,402.531,1543.172,402.531,1546.672L402.531,1550.172"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Callback_ReturnClosed_0" d="M402.531,1608.172L402.531,1612.339C402.531,1616.505,402.531,1624.839,402.531,1632.505C402.531,1640.172,402.531,1647.172,402.531,1650.672L402.531,1654.172"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ContinueActive_Callback2_0" d="M902.977,1156.172L902.977,1162.339C902.977,1168.505,902.977,1180.839,902.977,1190.505C902.977,1200.172,902.977,1207.172,902.977,1210.672L902.977,1214.172"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Callback2_ReturnActive_0" d="M902.977,1272.172L902.977,1276.339C902.977,1280.505,902.977,1288.839,902.977,1296.505C902.977,1304.172,902.977,1311.172,902.977,1314.672L902.977,1318.172"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(125.328125, 809.640625)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(652.75390625, 579)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(402.53125, 919.40625)" class="edgeLabel"><g transform="translate(-64.484375, -24)" class="label"><foreignObject height="48" width="128.96875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Long: price &gt;= TP<br />Short: price &lt;= TP</p></span></div></foreignObject></g></g><g transform="translate(783.75390625, 809.640625)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(664.53125, 1041.171875)" class="edgeLabel"><g transform="translate(-63.421875, -24)" class="label"><foreignObject height="48" width="126.84375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Long: price &lt;= SL<br />Short: price &gt;= SL</p></span></div></foreignObject></g></g><g transform="translate(902.9765625, 1041.171875)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(514.15234375, 35)" id="flowchart-Active-0" class="node default"><rect height="54" width="210.015625" y="-27" x="-105.0078125" style="" class="basic label-container"/><g transform="translate(-75.0078125, -12)" style="" class="label"><rect/><foreignObject height="24" width="150.015625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Signal in active state</p></span></div></foreignObject></g></g><g transform="translate(514.15234375, 139)" id="flowchart-GetPrice-1" class="node default"><rect height="54" width="236.828125" y="-27" x="-118.4140625" style="" class="basic label-container"/><g transform="translate(-88.4140625, -12)" style="" class="label"><rect/><foreignObject height="24" width="176.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>getAveragePrice(symbol)</p></span></div></foreignObject></g></g><g transform="translate(514.15234375, 379)" id="flowchart-CheckTime-3" class="node default"><polygon transform="translate(-163,163)" class="label-container" points="163,0 326,-163 163,-326 0,-163"/><g transform="translate(-100, -48)" style="" class="label"><rect/><foreignObject height="96" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Time expired?\n(currentTime - pendingAt\n&gt;= minuteEstimatedTime)</p></span></div></foreignObject></g></g><g transform="translate(125.328125, 1129.171875)" id="flowchart-CloseTime-5" class="node default"><rect height="54" width="234.65625" y="-27" x="-117.328125" style="" class="basic label-container"/><g transform="translate(-87.328125, -12)" style="" class="label"><rect/><foreignObject height="24" width="174.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Close with time_expired</p></span></div></foreignObject></g></g><g transform="translate(652.75390625, 694.3203125)" id="flowchart-CheckTP-7" class="node default"><polygon transform="translate(-78.3203125,78.3203125)" class="label-container" points="78.3203125,0 156.640625,-78.3203125 78.3203125,-156.640625 0,-78.3203125"/><g transform="translate(-51.3203125, -12)" style="" class="label"><rect/><foreignObject height="24" width="102.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>TakeProfit hit?</p></span></div></foreignObject></g></g><g transform="translate(402.53125, 1129.171875)" id="flowchart-CloseTP-9" class="node default"><rect height="78" width="219.75" y="-39" x="-109.875" style="" class="basic label-container"/><g transform="translate(-79.875, -24)" style="" class="label"><rect/><foreignObject height="48" width="159.75"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Close with take_profit<br />Use exact TP price</p></span></div></foreignObject></g></g><g transform="translate(783.75390625, 919.40625)" id="flowchart-CheckSL-11" class="node default"><polygon transform="translate(-72.765625,72.765625)" class="label-container" points="72.765625,0 145.53125,-72.765625 72.765625,-145.53125 0,-72.765625"/><g transform="translate(-45.765625, -12)" style="" class="label"><rect/><foreignObject height="24" width="91.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StopLoss hit?</p></span></div></foreignObject></g></g><g transform="translate(664.53125, 1129.171875)" id="flowchart-CloseSL-13" class="node default"><rect height="78" width="204.25" y="-39" x="-102.125" style="" class="basic label-container"/><g transform="translate(-72.125, -24)" style="" class="label"><rect/><foreignObject height="48" width="144.25"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Close with stop_loss<br />Use exact SL price</p></span></div></foreignObject></g></g><g transform="translate(902.9765625, 1129.171875)" id="flowchart-ContinueActive-15" class="node default"><rect height="54" width="172.640625" y="-27" x="-86.3203125" style="" class="basic label-container"/><g transform="translate(-56.3203125, -12)" style="" class="label"><rect/><foreignObject height="24" width="112.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Continue active</p></span></div></foreignObject></g></g><g transform="translate(402.53125, 1245.171875)" id="flowchart-CalculatePnL-17" class="node default"><rect height="54" width="180.859375" y="-27" x="-90.4296875" style="" class="basic label-container"/><g transform="translate(-60.4296875, -12)" style="" class="label"><rect/><foreignObject height="24" width="120.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>toProfitLossDto()</p></span></div></foreignObject></g></g><g transform="translate(402.53125, 1361.171875)" id="flowchart-UpdateRisk-23" class="node default"><rect height="54" width="198.484375" y="-27" x="-99.2421875" style="" class="basic label-container"/><g transform="translate(-69.2421875, -12)" style="" class="label"><rect/><foreignObject height="24" width="138.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>risk.removeSignal()</p></span></div></foreignObject></g></g><g transform="translate(402.53125, 1477.171875)" id="flowchart-Persist-25" class="node default"><rect height="54" width="218.265625" y="-27" x="-109.1328125" style="" class="basic label-container"/><g transform="translate(-79.1328125, -12)" style="" class="label"><rect/><foreignObject height="24" width="158.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>setPendingSignal(null)</p></span></div></foreignObject></g></g><g transform="translate(402.53125, 1581.171875)" id="flowchart-Callback-27" class="node default"><rect height="54" width="198.59375" y="-27" x="-99.296875" style="" class="basic label-container"/><g transform="translate(-69.296875, -12)" style="" class="label"><rect/><foreignObject height="24" width="138.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>callbacks.onClose()</p></span></div></foreignObject></g></g><g transform="translate(402.53125, 1697.171875)" id="flowchart-ReturnClosed-29" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return IStrategyTickResultClosed</p></span></div></foreignObject></g></g><g transform="translate(902.9765625, 1245.171875)" id="flowchart-Callback2-31" class="node default"><rect height="54" width="205.34375" y="-27" x="-102.671875" style="" class="basic label-container"/><g transform="translate(-72.671875, -12)" style="" class="label"><rect/><foreignObject height="24" width="145.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>callbacks.onActive()</p></span></div></foreignObject></g></g><g transform="translate(902.9765625, 1361.171875)" id="flowchart-ReturnActive-33" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return IStrategyTickResultActive</p></span></div></foreignObject></g></g></g></g></g></svg>