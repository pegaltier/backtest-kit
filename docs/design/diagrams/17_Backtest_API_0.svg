<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1049.12890625 854" style="max-width: 1049.13px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_User_BacktestClass_0" d="M244.797,60.236L222.599,68.697C200.401,77.157,156.005,94.079,161.622,111.157C167.238,128.235,222.867,145.471,250.681,154.089L278.496,162.706"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_User_BacktestClass_2" d="M309.57,62L309.135,70.167C308.7,78.333,307.831,94.667,315.152,110.53C322.473,126.394,337.986,141.788,345.742,149.485L353.498,157.182"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_User_BacktestClass_3" d="M377.219,60.236L399.417,68.697C421.615,77.157,466.01,94.079,478.086,110.3C490.162,126.522,469.919,142.044,459.797,149.805L449.675,157.566"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_User_BacktestClass_4" d="M377.219,47.787L431.772,58.322C486.326,68.858,595.432,89.929,618.03,109.568C640.627,129.207,576.716,147.414,544.76,156.518L512.804,165.621"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_User_BacktestClass_5" d="M377.219,43.683L462.776,54.902C548.333,66.122,719.448,88.561,742.061,110.972C764.673,133.384,638.784,155.767,575.84,166.959L512.895,178.151"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_BacktestClass_BacktestGlobal_0" d="M508.957,225.262L544.726,233.552C580.495,241.842,652.033,258.421,687.801,272.21C723.57,286,723.57,297,723.57,302.5L723.57,308"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_BacktestClass_BacktestMarkdown_0" d="M282.316,228.655L252.801,236.379C223.285,244.104,164.254,259.552,134.738,279.943C105.223,300.333,105.223,325.667,105.223,351C105.223,376.333,105.223,401.667,105.223,427C105.223,452.333,105.223,477.667,105.223,503C105.223,528.333,105.223,553.667,115.713,572.176C126.203,590.685,147.184,602.369,157.675,608.211L168.165,614.054"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_BacktestClass_BacktestMarkdown_2" d="M295.395,238L279.544,244.167C263.694,250.333,231.993,262.667,216.143,281.5C200.293,300.333,200.293,325.667,200.293,351C200.293,376.333,200.293,401.667,200.293,427C200.293,452.333,200.293,477.667,200.293,503C200.293,528.333,200.293,553.667,203.333,571.915C206.373,590.162,212.453,601.325,215.492,606.906L218.532,612.487"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_BacktestClass_BacktestMarkdown_3" d="M340.019,238L331.225,244.167C322.431,250.333,304.842,262.667,296.048,281.5C287.254,300.333,287.254,325.667,287.254,351C287.254,376.333,287.254,401.667,287.254,427C287.254,452.333,287.254,477.667,287.254,503C287.254,528.333,287.254,553.667,283.899,571.928C280.545,590.19,273.836,601.38,270.482,606.974L267.127,612.569"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_BacktestGlobal_BacktestLogic_0" d="M723.57,390L723.57,396.167C723.57,402.333,723.57,414.667,723.57,426.333C723.57,438,723.57,449,723.57,454.5L723.57,460"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_BacktestLogic_BacktestMarkdown_0" d="M593.32,539.566L569.909,546.138C546.497,552.71,499.674,565.855,459.756,578.369C419.838,590.882,386.825,602.764,370.318,608.705L353.812,614.645"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_BacktestLogic_ScheduleMarkdown_0" d="M765.88,542L772.57,548.167C779.26,554.333,792.64,566.667,799.33,578.333C806.02,590,806.02,601,806.02,606.5L806.02,612"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_BacktestMarkdown_ReportStorage_0" d="M241.688,694L241.688,700.167C241.688,706.333,241.688,718.667,241.688,730.333C241.688,742,241.688,753,241.688,758.5L241.688,764"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ScheduleMarkdown_ScheduleStorage_0" d="M806.02,694L806.02,700.167C806.02,706.333,806.02,718.667,806.02,730.333C806.02,742,806.02,753,806.02,758.5L806.02,764"/></g><g class="edgeLabels"><g transform="translate(111.609375, 111)" class="edgeLabel"><g transform="translate(-75.3515625, -12)" class="label"><foreignObject height="24" width="150.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>run(symbol, context)</p></span></div></foreignObject></g></g><g transform="translate(306.9609375, 111)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>background(symbol, context)</p></span></div></foreignObject></g></g><g transform="translate(510.40625, 111)" class="edgeLabel"><g transform="translate(-83.4453125, -12)" class="label"><foreignObject height="24" width="166.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>getData(strategyName)</p></span></div></foreignObject></g></g><g transform="translate(704.5390625, 111)" class="edgeLabel"><g transform="translate(-90.6875, -12)" class="label"><foreignObject height="24" width="181.375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>getReport(strategyName)</p></span></div></foreignObject></g></g><g transform="translate(890.5625, 111)" class="edgeLabel"><g transform="translate(-75.3359375, -12)" class="label"><foreignObject height="24" width="150.671875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>dump(strategyName)</p></span></div></foreignObject></g></g><g transform="translate(723.5703125, 275)" class="edgeLabel"><g transform="translate(-17.7265625, -12)" class="label"><foreignObject height="24" width="35.453125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>run()</p></span></div></foreignObject></g></g><g transform="translate(105.22265625, 427)" class="edgeLabel"><g transform="translate(-33.9140625, -12)" class="label"><foreignObject height="24" width="67.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>getData()</p></span></div></foreignObject></g></g><g transform="translate(200.29296875, 427)" class="edgeLabel"><g transform="translate(-41.15625, -12)" class="label"><foreignObject height="24" width="82.3125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>getReport()</p></span></div></foreignObject></g></g><g transform="translate(287.25390625, 427)" class="edgeLabel"><g transform="translate(-25.8046875, -12)" class="label"><foreignObject height="24" width="51.609375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>dump()</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(452.8515625, 579)" class="edgeLabel"><g transform="translate(-70.8984375, -12)" class="label"><foreignObject height="24" width="141.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>emits closed signals</p></span></div></foreignObject></g></g><g transform="translate(806.01953125, 579)" class="edgeLabel"><g transform="translate(-96.640625, -12)" class="label"><foreignObject height="24" width="193.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>emits scheduled/cancelled</p></span></div></foreignObject></g></g><g transform="translate(241.6875, 731)" class="edgeLabel"><g transform="translate(-21.4140625, -12)" class="label"><foreignObject height="24" width="42.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>stores</p></span></div></foreignObject></g></g><g transform="translate(806.01953125, 731)" class="edgeLabel"><g transform="translate(-21.4140625, -12)" class="label"><foreignObject height="24" width="42.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>stores</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(311.0078125, 35)" id="flowchart-User-0" class="node default"><rect height="54" width="132.421875" y="-27" x="-66.2109375" style="" class="basic label-container"/><g transform="translate(-36.2109375, -12)" style="" class="label"><rect/><foreignObject height="24" width="72.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>User Code</p></span></div></foreignObject></g></g><g transform="translate(395.63671875, 199)" id="flowchart-BacktestClass-1" class="node default"><rect height="78" width="226.640625" y="-39" x="-113.3203125" style="" class="basic label-container"/><g transform="translate(-83.3203125, -24)" style="" class="label"><rect/><foreignObject height="48" width="166.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Backtest (singleton)<br />src/classes/Backtest.ts</p></span></div></foreignObject></g></g><g transform="translate(723.5703125, 351)" id="flowchart-BacktestGlobal-2" class="node default"><rect height="78" width="410.59375" y="-39" x="-205.296875" style="" class="basic label-container"/><g transform="translate(-175.296875, -24)" style="" class="label"><rect/><foreignObject height="48" width="350.59375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>BacktestGlobalService<br />src/lib/services/global/BacktestGlobalService.ts</p></span></div></foreignObject></g></g><g transform="translate(723.5703125, 503)" id="flowchart-BacktestLogic-3" class="node default"><rect height="78" width="260.5" y="-39" x="-130.25" style="" class="basic label-container"/><g transform="translate(-100.25, -24)" style="" class="label"><rect/><foreignObject height="48" width="200.5"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>BacktestLogicPublicService<br />BacktestLogicPrivateService</p></span></div></foreignObject></g></g><g transform="translate(241.6875, 655)" id="flowchart-BacktestMarkdown-4" class="node default"><rect height="78" width="467.375" y="-39" x="-233.6875" style="" class="basic label-container"/><g transform="translate(-203.6875, -24)" style="" class="label"><rect/><foreignObject height="48" width="407.375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>BacktestMarkdownService<br />src/lib/services/markdown/BacktestMarkdownService.ts</p></span></div></foreignObject></g></g><g transform="translate(806.01953125, 655)" id="flowchart-ScheduleMarkdown-5" class="node default"><rect height="78" width="470.21875" y="-39" x="-235.109375" style="" class="basic label-container"/><g transform="translate(-205.109375, -24)" style="" class="label"><rect/><foreignObject height="48" width="410.21875"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ScheduleMarkdownService<br />src/lib/services/markdown/ScheduleMarkdownService.ts</p></span></div></foreignObject></g></g><g transform="translate(241.6875, 807)" id="flowchart-ReportStorage-31" class="node default"><rect height="78" width="161.46875" y="-39" x="-80.734375" style="" class="basic label-container"/><g transform="translate(-50.734375, -24)" style="" class="label"><rect/><foreignObject height="48" width="101.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ReportStorage<br />_signalList[]</p></span></div></foreignObject></g></g><g transform="translate(806.01953125, 807)" id="flowchart-ScheduleStorage-33" class="node default"><rect height="78" width="161.46875" y="-39" x="-80.734375" style="" class="basic label-container"/><g transform="translate(-50.734375, -24)" style="" class="label"><rect/><foreignObject height="48" width="101.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ReportStorage<br />_eventList[]</p></span></div></foreignObject></g></g></g></g></g></svg>