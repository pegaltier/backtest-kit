<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1237.32421875 1052" style="max-width: 1237.32px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph3" class="cluster"><rect height="401" width="303.59375" y="643" x="8" style=""/><g transform="translate(112.0703125, 643)" class="cluster-label"><foreignObject height="24" width="95.453125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Event System</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph2" class="cluster"><rect height="248" width="289.359375" y="643" x="331.59375" style=""/><g transform="translate(410.625, 643)" class="cluster-label"><foreignObject height="24" width="131.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Validation Payload</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph1" class="cluster"><rect height="553" width="588.37109375" y="338" x="640.953125" style=""/><g transform="translate(851.052734375, 338)" class="cluster-label"><foreignObject height="24" width="168.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Risk Management Layer</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="256" width="295.0703125" y="8" x="643.21484375" style=""/><g transform="translate(738.8359375, 8)" class="cluster-label"><foreignObject height="24" width="103.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Strategy Layer</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Strategy_GetSignal_0" d="M779.556,111L775.889,115.167C772.222,119.333,764.889,127.667,761.222,135.333C757.555,143,757.555,150,757.555,153.5L757.555,157"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GetSignal_RiskCheck_0" d="M757.555,239L757.555,243.167C757.555,247.333,757.555,255.667,757.555,266C757.555,276.333,757.555,288.667,757.555,301C757.555,313.333,757.555,325.667,757.555,335.333C757.555,345,757.555,352,757.555,355.5L757.555,359"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_RiskCheck_Validations_0" d="M757.555,441L757.555,445.167C757.555,449.333,757.555,457.667,760.781,465.5C764.008,473.332,770.461,480.665,773.687,484.331L776.914,487.997"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_RiskCheck_ActivePositions_0" d="M835.203,417.81L874.649,425.842C914.095,433.873,992.987,449.937,1032.433,461.468C1071.879,473,1071.879,480,1071.879,483.5L1071.879,487"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Validations_Payload_0" d="M874.945,569L884.6,575.167C894.256,581.333,913.568,593.667,923.223,606C932.879,618.333,932.879,630.667,875.701,652.361C818.524,674.055,704.169,705.111,646.991,720.638L589.813,736.166"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ActivePositions_Payload_0" d="M1010.813,569L1001.157,575.167C991.502,581.333,972.19,593.667,962.535,606C952.879,618.333,952.879,630.667,892.37,652.576C831.861,674.486,710.842,705.971,650.333,721.714L589.824,737.457"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Validations_RiskSubject_0" d="M771.78,569L765.123,575.167C758.467,581.333,745.153,593.667,738.497,606C731.84,618.333,731.84,630.667,652.122,654.113C572.405,677.56,412.969,712.121,333.252,729.401L253.534,746.681"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Validations_Strategy_0" d="M848.201,491L851.868,486.833C855.535,482.667,862.869,474.333,866.536,459.5C870.203,444.667,870.203,423.333,870.203,402C870.203,380.667,870.203,359.333,870.203,342.5C870.203,325.667,870.203,313.333,870.203,301C870.203,288.667,870.203,276.333,870.203,259.5C870.203,242.667,870.203,221.333,870.203,200C870.203,178.667,870.203,157.333,866.977,143C863.75,128.668,857.297,121.335,854.071,117.669L850.844,114.003"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_RiskSubject_Callbacks_0" d="M159.797,806L159.797,820.167C159.797,834.333,159.797,862.667,159.797,881C159.797,899.333,159.797,907.667,159.797,915.333C159.797,923,159.797,930,159.797,933.5L159.797,937"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ActivePositions_PersistRisk_0" d="M1078.618,569L1079.684,575.167C1080.749,581.333,1082.881,593.667,1083.946,606C1085.012,618.333,1085.012,630.667,1085.012,650.333C1085.012,670,1085.012,697,1085.012,710.5L1085.012,724"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(731.83984375, 606)" class="edgeLabel"><g transform="translate(-41.21875, -12)" class="label"><foreignObject height="24" width="82.4375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>throw Error</p></span></div></foreignObject></g></g><g transform="translate(870.203125, 301)" class="edgeLabel"><g transform="translate(-15.140625, -12)" class="label"><foreignObject height="24" width="30.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>pass</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(813.87890625, 72)" id="flowchart-Strategy-0" class="node default"><rect height="78" width="162.328125" y="-39" x="-81.1640625" style="" class="basic label-container"/><g transform="translate(-51.1640625, -24)" style="" class="label"><rect/><foreignObject height="48" width="102.328125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ClientStrategy<br />tick()</p></span></div></foreignObject></g></g><g transform="translate(757.5546875, 200)" id="flowchart-GetSignal-1" class="node default"><rect height="78" width="155.03125" y="-39" x="-77.515625" style="" class="basic label-container"/><g transform="translate(-47.515625, -24)" style="" class="label"><rect/><foreignObject height="48" width="95.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>getSignal()<br />Custom Logic</p></span></div></foreignObject></g></g><g transform="translate(757.5546875, 402)" id="flowchart-RiskCheck-2" class="node default"><rect height="78" width="155.296875" y="-39" x="-77.6484375" style="" class="basic label-container"/><g transform="translate(-47.6484375, -24)" style="" class="label"><rect/><foreignObject height="48" width="95.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ClientRisk<br />checkSignal()</p></span></div></foreignObject></g></g><g transform="translate(813.87890625, 530)" id="flowchart-Validations-3" class="node default"><rect height="78" width="171.109375" y="-39" x="-85.5546875" style="" class="basic label-container"/><g transform="translate(-55.5546875, -24)" style="" class="label"><rect/><foreignObject height="48" width="111.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Risk Validations<br />Rule Array</p></span></div></foreignObject></g></g><g transform="translate(1071.87890625, 530)" id="flowchart-ActivePositions-4" class="node default"><rect height="78" width="244.890625" y="-39" x="-122.4453125" style="" class="basic label-container"/><g transform="translate(-92.4453125, -24)" style="" class="label"><rect/><foreignObject height="48" width="184.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Active Positions<br />Tracking Across Strategies</p></span></div></foreignObject></g></g><g transform="translate(1085.01171875, 767)" id="flowchart-PersistRisk-5" class="node default"><rect height="78" width="192.359375" y="-39" x="-96.1796875" style="" class="basic label-container"/><g transform="translate(-66.1796875, -24)" style="" class="label"><rect/><foreignObject height="48" width="132.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>PersistRiskAdapter<br />Protected Storage</p></span></div></foreignObject></g></g><g transform="translate(476.2734375, 767)" id="flowchart-Payload-6" class="node default"><rect height="198" width="219.359375" y="-99" x="-109.6796875" style="" class="basic label-container"/><g transform="translate(-79.6796875, -84)" style="" class="label"><rect/><foreignObject height="168" width="159.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>IRiskValidationPayload<br />- symbol<br />- pendingSignal<br />- strategyName<br />- currentPrice<br />- activePositionCount<br />- activePositions[]</p></span></div></foreignObject></g></g><g transform="translate(159.796875, 767)" id="flowchart-RiskSubject-7" class="node default"><rect height="78" width="179.65625" y="-39" x="-89.828125" style="" class="basic label-container"/><g transform="translate(-59.828125, -24)" style="" class="label"><rect/><foreignObject height="48" width="119.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>riskSubject<br />Rejection Events</p></span></div></foreignObject></g></g><g transform="translate(159.796875, 980)" id="flowchart-Callbacks-8" class="node default"><rect height="78" width="233.59375" y="-39" x="-116.796875" style="" class="basic label-container"/><g transform="translate(-86.796875, -24)" style="" class="label"><rect/><foreignObject height="48" width="173.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Risk Callbacks<br />onRejected / onAllowed</p></span></div></foreignObject></g></g></g></g></g></svg>